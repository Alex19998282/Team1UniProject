<!DOCTYPE html>
<html>
<head>
    <title>Make-It-All Helpdesk</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/main.css">
 </head>

<body>
        <div class="w3-card w3-white w3-padding w3-row w3-round-xlarge" style="margin: 2%;">
                <div class="w3-container w3-center w3-margin-bottom">
                    <h1> Patrick Star <span class="w3-tag w3-deep-orange">Issue ID #8482</span> </h1>
                </div>
                <div class="w3-padding w3-third" style="text-align: center;">
                    <h1> Info </h1>
                    <ul class="w3-ul" style="text-align: left; overflow: scroll; white-space: nowrap; min-height: 15rem;">
                        <li>ID: <b> A1234</b></li>
                        <li>Name: <b>Patrick Star</b></li>
                        <li>Dept: <b>Project Accounting</b></li>
                        <li>Role: <b>Deputy Team Lead</b></li>
                        <li>Mail: <b>p.star@makeitall.com</b></li>
                        <li>Num: <b>07413012084</b></li>
                        <li>Office: <b>Room 3.21</b></li>
                    </ul>
                    <h1> Known Hardware </h1>
                    <ul class="w3-ul" style="text-align: left; overflow: scroll; white-space: nowrap; min-height: 15rem;">
                        <li>Printers: <b>HP Desk8300</b></li>
                        <li>Desktop OS: <b>Windows 7 Pro</b></li>
                        <li>Mobile OS: <b>Apple iPad Pro 12.9</b></li>
                        <li>Mobile OS: <b>iOS 12.1.1</b></li>
                        <li>LSoft: <b>AutoCAD ArduinoIDE NX11</b></li>
                        <li>USoft: <b>None</b></li>
                </div>
                <div class="w3-padding w3-third" style="text-align: center;">
                    <h1> Issue Definition </h1>
                    <div class="w3-bar w3-border">
							<div class="w3-button" style="display: inline-block;" id="up" onclick="upLevel();">Up</div>
							<div class="w3-border" id="path" style="display: inline-block; width: 75%; text-align: left;">Hello there</div>                    
                    </div>
                    
                    <div id="issueBrowser" style="overflow-y: scroll; width:100%;">
                    
                    </div>
                    </div>

                    
                <div class="w3-padding w3-third">
                    <h1 style="text-align: center;"> Extra Notes </h1>
                    <form>
                        <textarea style="width: 100%; height: 15rem; resize: none;" class="w3-border w3-pale-yellow w3-round-large w3-padding" placeholder="- Separate sections by bullet points if writing more than one note"></textarea>
                        <p>Serial Number<input type='text' style="float: right;"></p>
                        <p>Operating System<input type='text' style="float: right;"></p>
                        <p>Software<input type='text' style="float: right;"></p>
                    </form>
                </div>
                <div class="w3-container w3-center w3-padding-top">
                    <a href="new-call-ident.html" class="w3-margin-top w3-button w3-border w3-hover-red w3-margin-bottom w3-padding-large w3-round-xxlarge"> < Back </a>
                    <a href="new-call-done.html" class="w3-margin-top w3-button w3-large w3-border w3-hover-green w3-margin-bottom w3-padding-large w3-round-xxlarge"> Assign to Self </a>
                    <a href="new-call-specialist.html" class="w3-margin-top w3-button w3-large w3-border w3-hover-green w3-margin-bottom w3-padding-large w3-round-xxlarge"> Assign to Specialist</a>
                    <br>
                    <p> Review data before next stage </p>
                </div>
             </div>
	<script src="../js/issues.js"></script>    
    <script>
	loadPath([]);   
    
    var path = [];
    var pathname = "";
        
        function upLevel(){
        		path.pop();
        		loadPath(path);
        }
        
        //This function adds items visually to the issueBrowser box
        function addItem(item, index) {
        		document.getElementById("issueBrowser").innerHTML += "<div class='w3-button w3-bar' id='"+index+"' onclick='openItem("+index+")'>"+item+"</div>";
        }
        
        //This opens items in the issueBrowser box
        function openItem(item) {
            if (path.length<2) {
        			path[path.length] = item;
        			loadPath(path);
        		}
        		else {
        			loadPath(path);
        			document.getElementById(item).className = "w3-button w3-bar w3-blue";
        		}
        }
        
        //this function takes an array of integers, to a maximum length of 2, and opens the corresponding file path
        function loadPath(path){
        		document.getElementById("issueBrowser").innerHTML = "";
        		switch(path.length) {
        			case 0:
        				for (var x = 0; x<issues.length; x++) {
        					addItem(issues[x][0], x);
        				}
        				pathname="/";
        				break;
        				
        			case 1:
        				for (var x = 1; x<issues[path[0]].length; x++) {
        					addItem(issues[path[0]][x][0], x)
        				}
        				pathname="/"+issues[path[0]][0].toString()+"/";
        				break;
        				
        			case 2:
        				for (var x = 1; x<issues[path[0]][path[1]].length; x++) {
        					addItem(issues[path[0]][path[1]][x], x)
        				}
        				pathname="/"+issues[path[0]][0]+"/"+issues[path[0]][path[1]][0];
        				break;
        		}
        		document.getElementById("path").innerHTML = pathname;
        		
        }
    </script>
    <script src="../js/new-call-main.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script type="text/javascript">
    $('#item').click(function(e){
        e.preventDefault();
        x = this.innerHTML
        console.log(x)
        $('#issuedefined').html(x)
    });
</script>


</body>
</html>
